# the dockerfile to install openssh-server in ubuntu
# this dockerfile is copied from 
# https://dev.to/s1ntaxe770r/how-to-setup-ssh-within-a-docker-container-i5i 

FROM ubuntu:latest

ENV TZ=Europe/Helsinki
RUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime && echo $TZ > /etc/timezone

RUN apt update && apt install -y tzdata openssh-server sudo
RUN useradd -rm -d /home/masum -s /bin/bash -g root -G sudo -u 1000 masum
RUN echo 'masum:strongpassword' | chpasswd
RUN echo "masum ALL=(ALL:ALL) NOPASSWD: ALL" >> /etc/sudoers.d/10_masum
RUN service ssh start

EXPOSE 22

CMD ["/usr/sbin/sshd","-D"]
